{"version":3,"names":["Snackbar","props","message","config","id","Math","random","toString","onClose","hide","requestAnimationFrame","setState","toasts","state","filter","t","map","toast","placement","offset","style","bottom","undefined","top","justifyContent","flexDirection","Platform","OS","styles","container","rest","Component","StyleSheet","create","position","width"],"sources":["snackbar.component.tsx"],"sourcesContent":["import React, { Component } from 'react';\nimport {\n  StyleSheet,\n  KeyboardAvoidingView,\n  Platform,\n  ViewStyle,\n} from 'react-native';\n\nimport { Toast } from './toast.component';\nimport {\n  SnackbarState,\n  SnackbarProps,\n  SnackbarContainerProps,\n} from './snackbar.type';\nclass Snackbar extends Component<\n  SnackbarProps & SnackbarContainerProps,\n  SnackbarState\n> {\n  constructor(props: SnackbarProps & SnackbarContainerProps) {\n    super(props);\n\n    this.state = {\n      toasts: [],\n    };\n  }\n\n  static defaultProps = {\n    placement: 'bottom',\n    offset: 0,\n  };\n\n  /**\n   * adds new toast in the snackbar\n   *\n   * @param message\n   * @param config\n   */\n  show = (message: string | JSX.Element, config?: SnackbarProps) => {\n    let id = config?.id || Math.random().toString();\n    const onClose = () => this.hide(id);\n\n    requestAnimationFrame(() => {\n      this.setState({\n        toasts: this.state.toasts.filter((t) => t.id !== id),\n      });\n      this.setState({\n        toasts: [\n          {\n            id,\n            message,\n            onClose,\n            ...config,\n          },\n          ...this.state.toasts,\n        ],\n      });\n    });\n\n    return id;\n  };\n\n  /**\n   * updates a existing toast\n   *\n   * @param id\n   * @param message\n   * @param config\n   */\n  update = (\n    id: string,\n    message: string | JSX.Element,\n    config?: SnackbarProps\n  ) => {\n    this.setState({\n      toasts: this.state.toasts.map((toast) =>\n        toast.id === id ? { ...toast, message, ...config } : toast\n      ),\n    });\n  };\n\n  /**\n   * removes a toast from the snackbar\n   *\n   * @param id\n   */\n  hide = (id: string) => {\n    this.setState({\n      toasts: this.state.toasts.filter((t) => t.id !== id),\n    });\n  };\n\n  render() {\n    const { toasts } = this.state;\n    const { placement, offset } = this.props;\n\n    let style: ViewStyle = {\n      bottom: placement === 'bottom' ? offset : undefined,\n      top: placement === 'top' ? offset : undefined,\n      justifyContent: placement === 'bottom' ? 'flex-end' : 'flex-start',\n      flexDirection: placement === 'bottom' ? 'column' : 'column-reverse',\n    };\n\n    return (\n      <KeyboardAvoidingView\n        behavior={Platform.OS === 'ios' ? 'position' : undefined}\n        style={[styles.container, style]}\n        pointerEvents=\"box-none\"\n      >\n        {toasts.map((toast) => {\n          const { message, id, ...rest } = toast;\n\n          return (\n            <Toast key={id} {...this.props} {...rest}>\n              {message}\n            </Toast>\n          );\n        })}\n      </KeyboardAvoidingView>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'absolute',\n    width: '100%',\n  },\n});\n\nexport { Snackbar };\n"],"mappings":"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"}