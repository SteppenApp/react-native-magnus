{"version":3,"names":["Dropdown","React","forwardRef","incomingProps","ref","props","useDefaultProps","bg","rounded","showSwipeIndicator","Platform","OS","backdropColor","backdropOpacity","flexWrap","backdropTransitionOutTiming","overflow","py","m","mt","mr","mb","ml","ms","p","pr","pt","pb","pl","roundedTop","roundedRight","roundedBottom","roundedLeft","borderColor","borderBottomColor","borderLeftColor","borderTopColor","borderRightColor","borderWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","borderTopWidth","borderEndWidth","title","children","flexDir","isVisible","onBackdropPress","swipeDirection","onSwipeComplete","rest","useTheme","theme","computedStyle","getStyle","useState","visible","setVisible","useEffect","useImperativeHandle","open","close","renderTitle","renderIndicator","indicator","params","getThemeColor","colors","margin","justifyContent","wrapper","container","options","Children","map","child","cloneElement","onSelect","Option","DropdownOption"],"sources":["dropdown.component.tsx"],"sourcesContent":["import * as React from 'react';\nimport Modal from 'react-native-modal';\nimport { SafeAreaView, Platform, View } from 'react-native';\nimport { useState, useImperativeHandle, useEffect } from 'react';\n\nimport { Div } from '../div/div.component';\nimport { getStyle } from './dropdown.style';\nimport { Text } from '../text/text.component';\nimport { DropdownOption } from './dropdown.option.component';\nimport { useTheme } from '../../theme';\nimport {\n  DropdownProps,\n  DropdownRef,\n  CompoundedDropdown,\n} from './dropdown.type';\nimport { useDefaultProps } from '../../utilities/useDefaultProps';\nimport { getThemeColor } from '../../theme/theme.service';\n\nconst Dropdown = React.forwardRef<DropdownRef, DropdownProps>(\n  (incomingProps, ref) => {\n    const props = useDefaultProps('Dropdown', incomingProps, {\n      bg: 'white',\n      rounded: 'none',\n      showSwipeIndicator: Platform.OS === 'web' ? false : true,\n      backdropColor: 'gray900',\n      backdropOpacity: 0.5,\n      flexWrap: 'nowrap',\n      backdropTransitionOutTiming: 0,\n      overflow: 'hidden',\n      py: 'xl',\n    });\n\n    const {\n      bg,\n      m,\n      mt,\n      mr,\n      mb,\n      ml,\n      ms,\n      p,\n      pr,\n      pt,\n      pb,\n      pl,\n      rounded,\n      roundedTop,\n      roundedRight,\n      roundedBottom,\n      roundedLeft,\n      borderColor,\n      borderBottomColor,\n      borderLeftColor,\n      borderTopColor,\n      borderRightColor,\n      borderWidth,\n      borderLeftWidth,\n      borderRightWidth,\n      borderBottomWidth,\n      borderTopWidth,\n      borderEndWidth,\n      title,\n      showSwipeIndicator,\n      children,\n      backdropColor,\n      flexDir,\n      flexWrap,\n      isVisible,\n      onBackdropPress,\n      swipeDirection,\n      onSwipeComplete,\n      ...rest\n    } = props;\n    const { theme } = useTheme();\n    const computedStyle = getStyle(theme, props as DropdownProps);\n    const [visible, setVisible] = useState(props.isVisible ?? false);\n\n    useEffect(() => {\n      if ('isVisible' in props) {\n        setVisible(props.isVisible ?? false);\n      }\n    }, [props, visible]);\n\n    /**\n     * exposing functions through ref\n     */\n    useImperativeHandle(ref, () => ({\n      open() {\n        setVisible(true);\n      },\n      close() {\n        setVisible(false);\n      },\n    }));\n\n    /**\n     * render title\n     */\n    const renderTitle = () => {\n      if (title) {\n        return typeof title === 'string' ? (\n          <Text fontSize=\"md\" color=\"gray700\">\n            {title}\n          </Text>\n        ) : (\n          title\n        );\n      }\n\n      return false;\n    };\n\n    /**\n     * render scroll indicator\n     */\n    const renderIndicator = () => {\n      return (\n        showSwipeIndicator && (\n          <Div\n            h={7}\n            rounded=\"xl\"\n            w={40}\n            bg=\"gray200\"\n            style={computedStyle.indicator}\n          />\n        )\n      );\n    };\n\n    return (\n      <Modal\n        isVisible={visible}\n        onSwipeComplete={(params) => {\n          setVisible(false);\n          onSwipeComplete && onSwipeComplete(params);\n        }}\n        backdropColor={getThemeColor(theme.colors, backdropColor)}\n        onBackdropPress={\n          'onBackdropPress' in props ? onBackdropPress : () => setVisible(false)\n        }\n        style={{\n          margin: 0,\n          justifyContent: Platform.OS === 'web' ? 'center' : 'flex-end',\n        }}\n        swipeDirection=\"down\"\n        {...rest}\n      >\n        <View style={computedStyle.wrapper}>\n          {renderIndicator()}\n          <SafeAreaView>\n            <View style={computedStyle.container}>\n              {renderTitle()}\n              <View style={computedStyle.options}>\n                {React.Children.map(children, (child: React.ReactElement) => {\n                  return React.cloneElement(child, {\n                    onSelect: () => {\n                      setVisible(false);\n                    },\n                  });\n                })}\n              </View>\n            </View>\n          </SafeAreaView>\n        </View>\n      </Modal>\n    );\n  }\n) as CompoundedDropdown;\n\nDropdown.Option = DropdownOption;\n\n// Dropdown.defaultProps = {\n//   bg: 'white',\n//   rounded: 'none',\n//   showSwipeIndicator: Platform.OS === 'web' ? false : true,\n//   backdropColor: 'gray900',\n//   backdropOpacity: 0.5,\n//   flexWrap: 'nowrap',\n//   backdropTransitionOutTiming: 0,\n//   overflow: 'hidden',\n// };\n\nexport { Dropdown };\n"],"mappings":"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"}