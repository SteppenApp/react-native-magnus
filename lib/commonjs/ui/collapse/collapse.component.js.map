{"version":3,"names":["Collapse","incomingProps","props","useDefaultProps","bg","flexDir","flexWrap","rounded","overflow","shadow","mt","shadowColor","position","bgMode","pointerEvents","row","borderStyle","defaultActive","children","active","onChange","id","rest","useState","isActive","setIsActive","header","body","useEffect","changeState","newState","isFunction","React","Children","forEach","child","type","CollapseHeader","CollapseBody","Error","cloneElement","onPress","expanded","Body","Header","Group","CollapseGroup"],"sources":["collapse.component.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport { isFunction } from '../../utilities';\nimport { useDefaultProps } from '../../utilities/useDefaultProps';\n\nimport { Div } from '../div/div.component';\nimport { CollapseBody } from './collapse.body.component';\nimport { CollapseHeader } from './collapse.header.component';\nimport { CollapseProps, CompoundedCollapse } from './collapse.type';\nimport { CollapseGroup } from './group.component';\n\nconst Collapse: CompoundedCollapse<CollapseProps> = (incomingProps) => {\n  const props = useDefaultProps('Collapse', incomingProps, {\n    bg: 'white',\n    flexDir: 'column',\n    flexWrap: 'nowrap',\n    rounded: 'md',\n    overflow: 'hidden',\n    shadow: 'none',\n    mt: 'md',\n    shadowColor: 'gray900',\n    position: 'relative',\n    bgMode: 'cover',\n    pointerEvents: 'auto',\n    row: false,\n    borderStyle: 'solid',\n    defaultActive: false,\n  });\n\n  const { children, defaultActive, active, onChange, id, ...rest } = props;\n  const [isActive, setIsActive] = useState(active ?? defaultActive);\n  let header = null;\n  let body = null;\n\n  useEffect(() => {\n    if ('active' in props) {\n      setIsActive(props.active ?? false);\n    }\n  }, [props]);\n\n  const changeState = (newState: boolean) => {\n    setIsActive(newState);\n\n    if (isFunction(onChange)) {\n      onChange(id);\n    }\n  };\n\n  React.Children.forEach(children, (child) => {\n    // @ts-ignore\n    if (child.type === CollapseHeader) {\n      header = child;\n      // @ts-ignore\n    } else if (child.type === CollapseBody) {\n      body = child;\n    }\n  });\n\n  if (header === null) {\n    throw Error(\n      \"header wasn't found to be rendered. Please make sure you have wrapped an Collapse.Header in the Collapse Component.\"\n    );\n  }\n\n  header = React.cloneElement(header, {\n    active: isActive,\n\n    onPress: () => {\n      changeState(!isActive);\n    },\n  });\n\n  return (\n    <Div {...rest}>\n      {header}\n      {!!body && React.cloneElement(body, { expanded: !isActive })}\n    </Div>\n  );\n};\n\n// Collapse.defaultProps = {\n//   bg: 'white',\n//   flexDir: 'column',\n//   flexWrap: 'nowrap',\n//   rounded: 'md',\n//   overflow: 'hidden',\n//   shadow: 'none',\n//   mt: 'md',\n//   shadowColor: 'gray900',\n//   position: 'relative',\n//   bgMode: 'cover',\n//   pointerEvents: 'auto',\n//   row: false,\n//   borderStyle: 'solid',\n//   defaultActive: false,\n// };\n\nCollapse.Body = CollapseBody;\nCollapse.Header = CollapseHeader;\nCollapse.Group = CollapseGroup;\n\nexport { Collapse };\n"],"mappings":"6cAAA,oDAEA,0CACA,gEAEA,yCACA,uDACA,2DAEA,wC,urCAEA,GAAMA,SAA2C,CAAG,QAA9CA,SAA8C,CAACC,aAAD,CAAmB,CACrE,GAAMC,MAAK,CAAG,GAAAC,gCAAA,EAAgB,UAAhB,CAA4BF,aAA5B,CAA2C,CACvDG,EAAE,CAAE,OADmD,CAEvDC,OAAO,CAAE,QAF8C,CAGvDC,QAAQ,CAAE,QAH6C,CAIvDC,OAAO,CAAE,IAJ8C,CAKvDC,QAAQ,CAAE,QAL6C,CAMvDC,MAAM,CAAE,MAN+C,CAOvDC,EAAE,CAAE,IAPmD,CAQvDC,WAAW,CAAE,SAR0C,CASvDC,QAAQ,CAAE,UAT6C,CAUvDC,MAAM,CAAE,OAV+C,CAWvDC,aAAa,CAAE,MAXwC,CAYvDC,GAAG,CAAE,KAZkD,CAavDC,WAAW,CAAE,OAb0C,CAcvDC,aAAa,CAAE,KAdwC,CAA3C,CAAd,CAiBA,GAAQC,SAAR,CAAmEhB,KAAnE,CAAQgB,QAAR,CAAkBD,aAAlB,CAAmEf,KAAnE,CAAkBe,aAAlB,CAAiCE,MAAjC,CAAmEjB,KAAnE,CAAiCiB,MAAjC,CAAyCC,QAAzC,CAAmElB,KAAnE,CAAyCkB,QAAzC,CAAmDC,EAAnD,CAAmEnB,KAAnE,CAAmDmB,EAAnD,CAA0DC,IAA1D,uCAAmEpB,KAAnE,YACA,cAAgC,GAAAqB,cAAA,EAASJ,MAAT,SAASA,MAAT,UAASA,MAAT,CAAmBF,aAAnB,CAAhC,qDAAOO,QAAP,eAAiBC,WAAjB,eACA,GAAIC,OAAM,CAAG,IAAb,CACA,GAAIC,KAAI,CAAG,IAAX,CAEA,GAAAC,eAAA,EAAU,UAAM,CACd,GAAI,UAAY1B,MAAhB,CAAuB,mBACrBuB,WAAW,gBAACvB,KAAK,CAACiB,MAAP,+CAAiB,KAAjB,CAAX,CACD,CACF,CAJD,CAIG,CAACjB,KAAD,CAJH,EAMA,GAAM2B,YAAW,CAAG,QAAdA,YAAc,CAACC,QAAD,CAAuB,CACzCL,WAAW,CAACK,QAAD,CAAX,CAEA,GAAI,GAAAC,qBAAA,EAAWX,QAAX,CAAJ,CAA0B,CACxBA,QAAQ,CAACC,EAAD,CAAR,CACD,CACF,CAND,CAQAW,KAAK,CAACC,QAAN,CAAeC,OAAf,CAAuBhB,QAAvB,CAAiC,SAACiB,KAAD,CAAW,CAE1C,GAAIA,KAAK,CAACC,IAAN,GAAeC,8BAAnB,CAAmC,CACjCX,MAAM,CAAGS,KAAT,CAED,CAHD,IAGO,IAAIA,KAAK,CAACC,IAAN,GAAeE,0BAAnB,CAAiC,CACtCX,IAAI,CAAGQ,KAAP,CACD,CACF,CARD,EAUA,GAAIT,MAAM,GAAK,IAAf,CAAqB,CACnB,KAAMa,MAAK,CACT,qHADS,CAAX,CAGD,CAEDb,MAAM,CAAGM,KAAK,CAACQ,YAAN,CAAmBd,MAAnB,CAA2B,CAClCP,MAAM,CAAEK,QAD0B,CAGlCiB,OAAO,CAAE,kBAAM,CACbZ,WAAW,CAAC,CAACL,QAAF,CAAX,CACD,CALiC,CAA3B,CAAT,CAQA,MACE,qBAAC,QAAD,0BAASF,IAAT,+EACGI,MADH,CAEG,CAAC,CAACC,IAAF,EAAUK,KAAK,CAACQ,YAAN,CAAmBb,IAAnB,CAAyB,CAAEe,QAAQ,CAAE,CAAClB,QAAb,CAAzB,CAFb,CADF,CAMD,CAnED,C,0BAsFAxB,QAAQ,CAAC2C,IAAT,CAAgBL,0BAAhB,CACAtC,QAAQ,CAAC4C,MAAT,CAAkBP,8BAAlB,CACArC,QAAQ,CAAC6C,KAAT,CAAiBC,oBAAjB"}