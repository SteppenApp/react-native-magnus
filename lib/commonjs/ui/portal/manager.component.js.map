{"version":3,"names":["Manager","React","forwardRef","_","ref","useState","portals","setPortals","useImperativeHandle","mount","key","children","prev","update","map","item","unmount","filter","index","StyleSheet","absoluteFill"],"sources":["manager.component.tsx"],"sourcesContent":["import * as React from 'react';\nimport { View, StyleSheet } from 'react-native';\n\nexport interface IManagerHandles {\n  mount(key: string, children: React.ReactNode): void;\n  update(key?: string, children?: React.ReactNode): void;\n  unmount(key?: string): void;\n}\n\nexport const Manager = React.forwardRef((_, ref): any => {\n  const [portals, setPortals] = React.useState<\n    { key: string; children: React.ReactNode }[]\n  >([]);\n\n  React.useImperativeHandle(\n    ref,\n    (): IManagerHandles => ({\n      mount(key: string, children: React.ReactNode): void {\n        setPortals((prev) => [...prev, { key, children }]);\n      },\n\n      update(key: string, children: React.ReactNode): void {\n        setPortals((prev) =>\n          prev.map((item) => {\n            if (item.key === key) {\n              return { ...item, children };\n            }\n\n            return item;\n          })\n        );\n      },\n\n      unmount(key: string): void {\n        setPortals((prev) => prev.filter((item) => item.key !== key));\n      },\n    })\n  );\n\n  return portals.map(({ key, children }, index: number) => (\n    <View\n      key={`react-native-magnus-portal-${key}-${index}`}\n      collapsable={false}\n      pointerEvents=\"box-none\"\n      style={StyleSheet.absoluteFill}\n    >\n      {children}\n    </View>\n  ));\n});\n"],"mappings":"gcAAA,oDACA,yC,gnCAQO,GAAMA,QAAO,CAAGC,KAAK,CAACC,UAAN,CAAiB,SAACC,CAAD,CAAIC,GAAJ,CAAiB,CACvD,oBAA8BH,KAAK,CAACI,QAAN,CAE5B,EAF4B,CAA9B,iEAAOC,OAAP,qBAAgBC,UAAhB,qBAIAN,KAAK,CAACO,mBAAN,CACEJ,GADF,CAEE,iBAAwB,CACtBK,KADsB,gBAChBC,GADgB,CACHC,QADG,CAC8B,CAClDJ,UAAU,CAAC,SAACK,IAAD,kDAAcA,IAAd,GAAoB,CAAEF,GAAG,CAAHA,GAAF,CAAOC,QAAQ,CAARA,QAAP,CAApB,IAAD,CAAV,CACD,CAHqB,CAKtBE,MALsB,iBAKfH,GALe,CAKFC,QALE,CAK+B,CACnDJ,UAAU,CAAC,SAACK,IAAD,QACTA,KAAI,CAACE,GAAL,CAAS,SAACC,IAAD,CAAU,CACjB,GAAIA,IAAI,CAACL,GAAL,GAAaA,GAAjB,CAAsB,CACpB,+BAAYK,IAAZ,EAAkBJ,QAAQ,CAARA,QAAlB,GACD,CAED,MAAOI,KAAP,CACD,CAND,CADS,EAAD,CAAV,CASD,CAfqB,CAiBtBC,OAjBsB,kBAiBdN,GAjBc,CAiBK,CACzBH,UAAU,CAAC,SAACK,IAAD,QAAUA,KAAI,CAACK,MAAL,CAAY,SAACF,IAAD,QAAUA,KAAI,CAACL,GAAL,GAAaA,GAAvB,EAAZ,CAAV,EAAD,CAAV,CACD,CAnBqB,CAAxB,EAFF,EAyBA,MAAOJ,QAAO,CAACQ,GAAR,CAAY,cAAoBI,KAApB,KAAGR,IAAH,MAAGA,GAAH,CAAQC,QAAR,MAAQA,QAAR,OACjB,qBAAC,iBAAD,EACE,GAAG,+BAAgCD,GAAhC,KAAuCQ,KAD5C,CAEE,WAAW,CAAE,KAFf,CAGE,aAAa,CAAC,UAHhB,CAIE,KAAK,CAAEC,uBAAA,CAAWC,YAJpB,6EAMGT,QANH,CADiB,EAAZ,CAAP,CAUD,CAxCsB,CAAhB,C"}