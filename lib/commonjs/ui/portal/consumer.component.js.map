{"version":3,"names":["Consumer","children","manager","key","React","useRef","undefined","checkManager","Error","handleInit","current","mount","useEffect","update","unmount"],"sources":["consumer.component.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport { IProvider } from './host.component';\n\ninterface IConsumerProps {\n  children: React.ReactNode;\n  manager: IProvider | null;\n}\n\nexport const Consumer = ({ children, manager }: IConsumerProps): null => {\n  const key = React.useRef<string | undefined>(undefined);\n\n  const checkManager = (): void => {\n    if (!manager) {\n      throw new Error('No portal manager defined');\n    }\n  };\n\n  const handleInit = (): void => {\n    checkManager();\n    key.current = manager?.mount(children);\n  };\n\n  React.useEffect(() => {\n    checkManager();\n    manager?.update(key.current, children);\n  }, [children, manager]);\n\n  React.useEffect(() => {\n    handleInit();\n\n    return (): void => {\n      checkManager();\n      manager?.unmount(key.current);\n    };\n  }, []);\n\n  return null;\n};\n"],"mappings":"8FAAA,oD,0/BASO,GAAMA,SAAQ,CAAG,QAAXA,SAAW,MAAiD,IAA9CC,SAA8C,MAA9CA,QAA8C,CAApCC,OAAoC,MAApCA,OAAoC,CACvE,GAAMC,IAAG,CAAGC,KAAK,CAACC,MAAN,CAAiCC,SAAjC,CAAZ,CAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAY,CAC/B,GAAI,CAACL,OAAL,CAAc,CACZ,KAAM,IAAIM,MAAJ,CAAU,2BAAV,CAAN,CACD,CACF,CAJD,CAMA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAY,CAC7BF,YAAY,GACZJ,GAAG,CAACO,OAAJ,CAAcR,OAAd,SAAcA,OAAd,iBAAcA,OAAO,CAAES,KAAT,CAAeV,QAAf,CAAd,CACD,CAHD,CAKAG,KAAK,CAACQ,SAAN,CAAgB,UAAM,CACpBL,YAAY,GACZL,OAAO,OAAP,EAAAA,OAAO,SAAP,QAAAA,OAAO,CAAEW,MAAT,CAAgBV,GAAG,CAACO,OAApB,CAA6BT,QAA7B,EACD,CAHD,CAGG,CAACA,QAAD,CAAWC,OAAX,CAHH,EAKAE,KAAK,CAACQ,SAAN,CAAgB,UAAM,CACpBH,UAAU,GAEV,MAAO,WAAY,CACjBF,YAAY,GACZL,OAAO,OAAP,EAAAA,OAAO,SAAP,QAAAA,OAAO,CAAEY,OAAT,CAAiBX,GAAG,CAACO,OAArB,EACD,CAHD,CAID,CAPD,CAOG,EAPH,EASA,MAAO,KAAP,CACD,CA7BM,C"}